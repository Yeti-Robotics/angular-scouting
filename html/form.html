<div class="container-fluid">
    <form id="scouting_form" enctype="multipart/form-data" ng-submit="submit()">
        <div class="card-columns">

            <!-- Basic information panel: -->
            <div class="card">
                <h5 class="card-header">
                    Match info
                    <br>
                    <small class="text-muted">Scouting as {{user.name}}</small>
                </h5>
                <div class="card-body">
                    <div ng-if="settings.validateTeams">
                        <div ng-if="!validatorIncorrect">
                            <div class="form-group">
                                <label for="#robotPos">Select the position you're scouting for</label>
                                <select id="robotPos" class="form-control custom-select" ng-model="teamNumber" ng-change="selectTeam(teamNumber)">
                                    <option ng-value="matches[0].teams.red[0]">Red 1</option>
                                    <option ng-value="matches[0].teams.red[1]">Red 2</option>
                                    <option ng-value="matches[0].teams.red[2]">Red 3</option>
                                    <option ng-value="matches[0].teams.blue[0]">Blue 1</option>
                                    <option ng-value="matches[0].teams.blue[1]">Blue 2</option>
                                    <option ng-value="matches[0].teams.blue[2]">Blue 3</option>
                                </select>
                            </div>

                            <div ng-if="selectedTeam" class="form-group">
                                <table class="table table-bordered table-sm" style="margin-bottom: 0%">
                                    <thead>
                                        <tr>
                                            <th class="text-center">Match Number</th>
                                            <th class="text-center">Team Number</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="text-center">{{formData.matchNumber}}</td>
                                            <td class="text-center">{{formData.teamNumber}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="custom-control custom-checkbox" ng-show="selectedTeam">
                            <input type="checkbox" class="custom-control-input" ng-model="validatorIncorrect" id="validatorIncorrect" ng-click="formData.teamNumber = formData.matchNumber = undefined">
                            <label class="custom-control-label" for="validatorIncorrect">Is this information incorrect?</label>
                        </div>
                        <div ng-if="validatorIncorrect">
                            <div class="form-group" style="margin-top: 1rem">
                                <label for="teamnumber">Team number</label>
                                <input ng-model="formData.teamNumber" class="form-control" type='number' name='teamnumber' id='teamnumber' placeholder='Enter the team number'
                                    required>
                            </div>
                            <label for="matchNumber">Match number</label>
                            <input ng-model="formData.matchNumber" type="number" class="form-control" id="matchNumber" placeholder="Enter the match number"
                                required>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Autonomous panel: -->
            <div class="card">
                <h5 class="card-header">Autonomous</h5>
                <div class="card-body">
                    <div class="custom-control custom-checkbox form-group">
                        <input type="checkbox" class="custom-control-input" ng-model="formData.autoCheck" id="autoCheck">
                        <label class="custom-control-label" for="autoCheck">Did the robot cross the Autonomous line?</label>
                    </div>
                    <div class="form-group">
                        <label for="scaleCounter">Cubes placed on alliance switch</label>
                        <div class="input-group" name="scaleCounter">
                            <div class="input-group-prepend">
                                <button class="btn btn-outline-dark" type='button' ng-click="decrementAS()">
                                    <i class="material-icons">remove</i>
                                </button>
                            </div>
                            <input ng-model="formData.autoScale" type="number" id="autoScale" class="form-control width100" placeholder="#">
                            <div class="input-group-append">
                                <button class="btn btn-outline-dark" type='button' ng-click="incrementAS()">
                                    <i class="material-icons">add</i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="switchCounter">Cubes placed on alliance scale</label>
                        <div class="input-group" name="switchCounter">
                            <div class="input-group-prepend">
                                <button class="btn btn-outline-dark" type='button' ng-click="decrementAW()">
                                    <i class="material-icons">remove</i>
                                </button>
                            </div>
                            <input ng-model="formData.autoSwitch" type="number" id="autoSwitch" class="form-control width100" placeholder="#">
                            <div class="input-group-append">
                                <button class="btn btn-outline-dark" type='button' ng-click="incrementAW()">
                                    <i class="material-icons">add</i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Teleop Panel: -->
            <div class="card">
                <h5 class="card-header">Teleop</h5>
                <div class="card-body">
                    <div class="form-group">
                        <label for="switchCubes">Cubes placed on alliance switch</label>
                        <div class="input-group" name="switchCubes">
                            <div class="input-group-prepend">
                                <button class="btn btn-outline-dark" type='button' ng-click="decrementWC()">
                                    <i class="material-icons">remove</i>
                                </button>
                            </div>
                            <input ng-model="formData.switchCubes" type="number" class="form-control width100" placeholder="#">
                            <div class="input-group-append">
                                <button class="btn btn-outline-dark" type='button' ng-click="incrementWC()">
                                    <i class="material-icons">add</i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="scaleCubes">Cubes placed on alliance scale</label>
                        <div class="input-group" name="scaleCubes">
                            <div class="input-group-prepend">
                                <button class="btn btn-outline-dark" type='button' ng-click="decrementSC()">
                                    <i class="material-icons">remove</i>
                                </button>
                            </div>
                            <input ng-model="formData.scaleCubes" type="number" class="form-control">
                            <div class="input-group-append">
                                <button class="btn btn-outline-dark" type='button' ng-click="incrementSC()">
                                    <i class="material-icons">add</i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="custom-control custom-checkbox">
                            <input class="custom-control-input" id="teleCubeStack" ng-model="formData.teleCubeStack" type="checkbox">
                            <label class="custom-control-label" for="teleCubeStack">Did the robot place a cube on top of another cube in the scale?</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="enemySwitchCubes">Cubes placed on enemy switch</label>
                        <div class="input-group" name="enemySwitchCubes">
                            <div class="input-group-prepend">
                                <button class="btn btn-outline-dark" type='button' ng-click="decrementEC()">
                                    <i class="material-icons">remove</i>
                                </button>
                            </div>
                            <input ng-model="formData.enemySwitchCubes" type="number" class="form-control width100" placeholder="#">
                            <div class="input-group-append">
                                <button class="btn btn-outline-dark" type='button' ng-click="incrementEC()">
                                    <i class="material-icons">add</i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="vaultCubes">Cubes put in the vault</label>
                        <div class="input-group" name="vaultCubes">
                            <div class="input-group-prepend">
                                <button class="btn btn-outline-dark" type='button' ng-click="decrementVC()">
                                    <i class="material-icons">remove</i>
                                </button>
                            </div>
                            <input ng-model="formData.vaultCubes" type="number" class="form-control width100" placeholder="#">
                            <div class="input-group-append">
                                <button class="btn btn-outline-dark" type='button' ng-click="incrementVC()">
                                    <i class="material-icons">add</i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="custom-control custom-checkbox">
                            <input class="custom-control-input" id="teleDefense" ng-model="formData.teleDefense" type="checkbox">
                            <label class="custom-control-label" for="teleDefense">Did this robot play defense?</label>
                        </div>
                    </div>
                    <div class="custom-control custom-checkbox">
                        <input class="custom-control-input" id="teleCheck" ng-model="formData.teleCheck" type="checkbox">
                        <label class="custom-control-label" for="teleCheck">Did the robot climb or help others climb?</label>
                    </div>
                    <div ng-if="formData.teleCheck">
                        <div class="form-group" style="margin-top: 1rem">
                            <div class="custom-control custom-checkbox">
                                <input ng-model="formData.helpClimb" id="helpClimb" class="custom-control-input" type="checkbox">
                                <label class="custom-control-label" for="helpClimb">Did the robot deploy a ramp?</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="custom-control custom-checkbox">
                                <input ng-model="formData.rampClimb" id="rampClimb" class="custom-control-input" type="checkbox">
                                <label class="custom-control-label" for="rampClimb">Did the robot climb a ramp?</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="custom-control custom-checkbox">
                                <input ng-model="formData.barClimb" id="barClimb" class="custom-control-input" type="checkbox">
                                <label class="custom-control-label" for="barClimb">Did the robot climb the bar?</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="otherClimb">Other</label>
                            <textarea ng-model="formData.otherClimb" name="otherClimb" class="form-control" rows="3" placeholder="Any notable information about how the robot climbed the bar, someone's ramp, etc."></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Other Panel: -->
            <div class="card">
                <h5 class="card-header">Other</h5>
                <div class="card-body">
                    <div class="form-group">
                        <label for="score">
                            <span ng-if="robotPos.red.indexOf(selectedRobotPos) != -1">Red </span>
                            <span ng-if="robotPos.blue.indexOf(selectedRobotPos) != -1">Blue </span>
                            Alliance Score
                        </label>
                        <input ng-model="formData.score" type="number" name="score" class="form-control" placeholder="Enter the alliance's score"
                            required>
                    </div>
                    <label for="comment">Comments</label>
                    <textarea ng-model="formData.comment" name="comment" class="form-control" rows="3" placeholder="Comment on the robot's strategy, failures, human players, power ups used, fouls, etc."
                        required></textarea>
                </div>
            </div>
        </div>
        <div class="form-group">
            <button id="submitButton" class="btn btn-block btn-primary" type="submit">Submit</button>
        </div>
    </form>
</div>
